<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg"
     contentScriptType="application/ecmascript" contentStyleType="text/css" height="624px" preserveAspectRatio="none"
     style="width:890px;height:624px;" version="1.1" viewBox="0 0 890 624" width="890px" zoomAndPan="magnify">
    <defs>
        <filter height="300%" id="f18ghktvjgmr9q" width="300%" x="-1" y="-1">
            <feGaussianBlur result="blurOut" stdDeviation="2.0"/>
            <feColorMatrix in="blurOut" result="blurOut2" type="matrix"
                           values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
            <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/>
            <feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/>
        </filter>
    </defs>
    <g>
        <rect fill="#FFFFFF" filter="url(#f18ghktvjgmr9q)" height="527.4058" style="stroke: #A80036; stroke-width: 1.0;"
              width="10" x="27.5" y="48.2969"/>
        <rect fill="#FFFFFF" filter="url(#f18ghktvjgmr9q)" height="459.9579" style="stroke: #A80036; stroke-width: 1.0;"
              width="10" x="146.5" y="114.7448"/>
        <rect fill="#FFFFFF" filter="url(#f18ghktvjgmr9q)" height="385.51" style="stroke: #A80036; stroke-width: 1.0;"
              width="10" x="243.5" y="189.1926"/>
        <rect fill="#FFFFFF" filter="url(#f18ghktvjgmr9q)" height="332.208" style="stroke: #A80036; stroke-width: 1.0;"
              width="10" x="350.5" y="242.4946"/>
        <rect fill="#FFFFFF" filter="url(#f18ghktvjgmr9q)" height="260.906" style="stroke: #A80036; stroke-width: 1.0;"
              width="10" x="499.5" y="313.7966"/>
        <rect fill="#FFFFFF" filter="url(#f18ghktvjgmr9q)" height="135.604" style="stroke: #A80036; stroke-width: 1.0;"
              width="10" x="504.5" y="417.0986"/>
        <rect fill="#FFFFFF" filter="url(#f18ghktvjgmr9q)" height="101.302" style="stroke: #A80036; stroke-width: 1.0;"
              width="10" x="643.5" y="451.4006"/>
        <rect fill="#FFFFFF" filter="url(#f18ghktvjgmr9q)" height="30" style="stroke: #A80036; stroke-width: 1.0;"
              width="10" x="796.5" y="522.7026"/>
        <rect fill="#FEFECE" filter="url(#f18ghktvjgmr9q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;"
              width="98" x="100.5" y="48.2969"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84"
              x="107.5" y="68.292">CircuitBuilder
        </text>
        <rect fill="#FEFECE" filter="url(#f18ghktvjgmr9q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;"
              width="54" x="219.5" y="122.7448"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40"
              x="226.5" y="142.7399">Circuit
        </text>
        <rect fill="#FFFFFF" filter="url(#f18ghktvjgmr9q)" height="363.51" style="stroke: #000000; stroke-width: 2.0;"
              width="669.5" x="209.5" y="204.1926"/>
        <rect fill="#FFFFFF" filter="url(#f18ghktvjgmr9q)" height="231.906" style="stroke: #000000; stroke-width: 2.0;"
              width="400.5" x="468.5" y="328.7966"/>
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="32" x2="32" y1="38.2969"
              y2="584.7026"/>
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="151.5" x2="151.5" y1="80.9453"
              y2="584.7026"/>
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="248.5" x2="248.5" y1="155.3932"
              y2="584.7026"/>
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="355" x2="355" y1="38.2969"
              y2="584.7026"/>
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="504.5" x2="504.5" y1="38.2969"
              y2="584.7026"/>
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="648" x2="648" y1="38.2969"
              y2="584.7026"/>
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="801" x2="801" y1="38.2969"
              y2="584.7026"/>
        <rect fill="#FEFECE" filter="url(#f18ghktvjgmr9q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;"
              width="45" x="8" y="3"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31"
              x="15" y="22.9951">Main
        </text>
        <rect fill="#FEFECE" filter="url(#f18ghktvjgmr9q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;"
              width="45" x="8" y="583.7026"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31"
              x="15" y="603.6978">Main
        </text>
        <rect fill="#FEFECE" filter="url(#f18ghktvjgmr9q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;"
              width="98" x="100.5" y="583.7026"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84"
              x="107.5" y="603.6978">CircuitBuilder
        </text>
        <rect fill="#FEFECE" filter="url(#f18ghktvjgmr9q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;"
              width="54" x="219.5" y="583.7026"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40"
              x="226.5" y="603.6978">Circuit
        </text>
        <rect fill="#FEFECE" filter="url(#f18ghktvjgmr9q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;"
              width="81" x="313" y="3"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67"
              x="320" y="22.9951">InputNode
        </text>
        <rect fill="#FEFECE" filter="url(#f18ghktvjgmr9q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;"
              width="81" x="313" y="583.7026"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67"
              x="320" y="603.6978">InputNode
        </text>
        <rect fill="#FEFECE" filter="url(#f18ghktvjgmr9q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;"
              width="48" x="478.5" y="3"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34"
              x="485.5" y="22.9951">Node
        </text>
        <rect fill="#FEFECE" filter="url(#f18ghktvjgmr9q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;"
              width="48" x="478.5" y="583.7026"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34"
              x="485.5" y="603.6978">Node
        </text>
        <rect fill="#FEFECE" filter="url(#f18ghktvjgmr9q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;"
              width="85" x="604" y="3"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71"
              x="611" y="22.9951">ProbeNode
        </text>
        <rect fill="#FEFECE" filter="url(#f18ghktvjgmr9q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;"
              width="85" x="604" y="583.7026"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71"
              x="611" y="603.6978">ProbeNode
        </text>
        <rect fill="#FEFECE" filter="url(#f18ghktvjgmr9q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;"
              width="111" x="744" y="3"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97"
              x="751" y="22.9951">ProbeObserver
        </text>
        <rect fill="#FEFECE" filter="url(#f18ghktvjgmr9q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;"
              width="111" x="744" y="583.7026"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97"
              x="751" y="603.6978">ProbeObserver
        </text>
        <rect fill="#FFFFFF" filter="url(#f18ghktvjgmr9q)" height="527.4058" style="stroke: #A80036; stroke-width: 1.0;"
              width="10" x="27.5" y="48.2969"/>
        <rect fill="#FFFFFF" filter="url(#f18ghktvjgmr9q)" height="459.9579" style="stroke: #A80036; stroke-width: 1.0;"
              width="10" x="146.5" y="114.7448"/>
        <rect fill="#FFFFFF" filter="url(#f18ghktvjgmr9q)" height="385.51" style="stroke: #A80036; stroke-width: 1.0;"
              width="10" x="243.5" y="189.1926"/>
        <rect fill="#FFFFFF" filter="url(#f18ghktvjgmr9q)" height="332.208" style="stroke: #A80036; stroke-width: 1.0;"
              width="10" x="350.5" y="242.4946"/>
        <rect fill="#FFFFFF" filter="url(#f18ghktvjgmr9q)" height="260.906" style="stroke: #A80036; stroke-width: 1.0;"
              width="10" x="499.5" y="313.7966"/>
        <rect fill="#FFFFFF" filter="url(#f18ghktvjgmr9q)" height="135.604" style="stroke: #A80036; stroke-width: 1.0;"
              width="10" x="504.5" y="417.0986"/>
        <rect fill="#FFFFFF" filter="url(#f18ghktvjgmr9q)" height="101.302" style="stroke: #A80036; stroke-width: 1.0;"
              width="10" x="643.5" y="451.4006"/>
        <rect fill="#FFFFFF" filter="url(#f18ghktvjgmr9q)" height="30" style="stroke: #A80036; stroke-width: 1.0;"
              width="10" x="796.5" y="522.7026"/>
        <polygon fill="#A80036" points="88.5,65.4479,98.5,69.4479,88.5,73.4479,92.5,69.4479"
                 style="stroke: #A80036; stroke-width: 1.0;"/>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="37.5" x2="94.5" y1="69.4479" y2="69.4479"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs"
              textLength="9" x="44.5" y="64.3783">1
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26"
              x="57.5" y="64.3783">new
        </text>
        <rect fill="#FEFECE" filter="url(#f18ghktvjgmr9q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;"
              width="98" x="100.5" y="48.2969"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84"
              x="107.5" y="68.292">CircuitBuilder
        </text>
        <polygon fill="#A80036" points="134.5,110.7448,144.5,114.7448,134.5,118.7448,138.5,114.7448"
                 style="stroke: #A80036; stroke-width: 1.0;"/>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="37.5" x2="140.5" y1="114.7448" y2="114.7448"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs"
              textLength="9" x="44.5" y="109.6751">2
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40"
              x="57.5" y="109.6751">build()
        </text>
        <polygon fill="#A80036" points="207.5,139.8958,217.5,143.8958,207.5,147.8958,211.5,143.8958"
                 style="stroke: #A80036; stroke-width: 1.0;"/>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="156.5" x2="213.5" y1="143.8958" y2="143.8958"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs"
              textLength="9" x="163.5" y="138.8261">3
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26"
              x="176.5" y="138.8261">new
        </text>
        <rect fill="#FEFECE" filter="url(#f18ghktvjgmr9q)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;"
              width="54" x="219.5" y="122.7448"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40"
              x="226.5" y="142.7399">Circuit
        </text>
        <polygon fill="#A80036" points="231.5,185.1926,241.5,189.1926,231.5,193.1926,235.5,189.1926"
                 style="stroke: #A80036; stroke-width: 1.0;"/>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="37.5" x2="237.5" y1="189.1926" y2="189.1926"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs"
              textLength="9" x="44.5" y="184.123">4
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62"
              x="57.5" y="184.123">simulate()
        </text>
        <path d="M209.5,204.1926 L353.5,204.1926 L353.5,211.1926 L343.5,221.1926 L209.5,221.1926 L209.5,204.1926 "
              fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/>
        <rect fill="none" height="363.51" style="stroke: #000000; stroke-width: 2.0;" width="669.5" x="209.5"
              y="204.1926"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs"
              textLength="99" x="224.5" y="217.274">foreach inputs
        </text>
        <polygon fill="#A80036" points="338.5,238.4946,348.5,242.4946,338.5,246.4946,342.5,242.4946"
                 style="stroke: #A80036; stroke-width: 1.0;"/>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="253.5" x2="344.5" y1="242.4946" y2="242.4946"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs"
              textLength="9" x="260.5" y="237.425">5
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65"
              x="273.5" y="237.425">calculate()
        </text>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="360.5" x2="402.5" y1="271.6456" y2="271.6456"/>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="402.5" x2="402.5" y1="271.6456" y2="284.6456"/>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="361.5" x2="402.5" y1="284.6456" y2="284.6456"/>
        <polygon fill="#A80036" points="371.5,280.6456,361.5,284.6456,371.5,288.6456,367.5,284.6456"
                 style="stroke: #A80036; stroke-width: 1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs"
              textLength="9" x="367.5" y="266.576">6
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44"
              x="380.5" y="266.576">notify()
        </text>
        <polygon fill="#A80036" points="487.5,309.7966,497.5,313.7966,487.5,317.7966,491.5,313.7966"
                 style="stroke: #A80036; stroke-width: 1.0;"/>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="360.5" x2="493.5" y1="313.7966" y2="313.7966"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs"
              textLength="9" x="367.5" y="308.727">7
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107"
              x="380.5" y="308.727">calculate() "next"
        </text>
        <path d="M468.5,328.7966 L542.5,328.7966 L542.5,335.7966 L532.5,345.7966 L468.5,345.7966 L468.5,328.7966 "
              fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/>
        <rect fill="none" height="231.906" style="stroke: #000000; stroke-width: 2.0;" width="400.5" x="468.5"
              y="328.7966"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs"
              textLength="29" x="483.5" y="341.878">loop
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs"
              textLength="170" x="557.5" y="341.0071">[until the probes are reached]
        </text>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="509.5" x2="551.5" y1="367.0986" y2="367.0986"/>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="551.5" x2="551.5" y1="367.0986" y2="380.0986"/>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="510.5" x2="551.5" y1="380.0986" y2="380.0986"/>
        <polygon fill="#A80036" points="520.5,376.0986,510.5,380.0986,520.5,384.0986,516.5,380.0986"
                 style="stroke: #A80036; stroke-width: 1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs"
              textLength="9" x="516.5" y="362.029">8
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44"
              x="529.5" y="362.029">notify()
        </text>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="509.5" x2="556.5" y1="404.2496" y2="404.2496"/>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="556.5" x2="556.5" y1="404.2496" y2="417.2496"/>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="515.5" x2="556.5" y1="417.2496" y2="417.2496"/>
        <polygon fill="#A80036" points="525.5,413.2496,515.5,417.2496,525.5,421.2496,521.5,417.2496"
                 style="stroke: #A80036; stroke-width: 1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs"
              textLength="9" x="521.5" y="399.18">9
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107"
              x="534.5" y="399.18">calculate() "next"
        </text>
        <polygon fill="#A80036" points="631.5,447.4006,641.5,451.4006,631.5,455.4006,635.5,451.4006"
                 style="stroke: #A80036; stroke-width: 1.0;"/>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="514.5" x2="637.5" y1="451.4006" y2="451.4006"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs"
              textLength="18" x="521.5" y="446.331">10
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65"
              x="543.5" y="446.331">calculate()
        </text>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="653.5" x2="695.5" y1="480.5516" y2="480.5516"/>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="695.5" x2="695.5" y1="480.5516" y2="493.5516"/>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="654.5" x2="695.5" y1="493.5516" y2="493.5516"/>
        <polygon fill="#A80036" points="664.5,489.5516,654.5,493.5516,664.5,497.5516,660.5,493.5516"
                 style="stroke: #A80036; stroke-width: 1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs"
              textLength="18" x="660.5" y="475.482">11
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44"
              x="682.5" y="475.482">notify()
        </text>
        <polygon fill="#A80036" points="784.5,518.7026,794.5,522.7026,784.5,526.7026,788.5,522.7026"
                 style="stroke: #A80036; stroke-width: 1.0;"/>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="653.5" x2="790.5" y1="522.7026" y2="522.7026"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs"
              textLength="18" x="660.5" y="517.633">12
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102"
              x="682.5" y="517.633">probeChanged()
        </text><!--
@startuml
autonumber

Main ++
Main -> CircuitBuilder ** : new
Main -> CircuitBuilder ++ : build()

CircuitBuilder -> Circuit ** : new
Main -> Circuit ++ : simulate()

group foreach inputs
    Circuit -> InputNode ++ : calculate()

    InputNode -> InputNode : notify()
    InputNode -> Node ++ : calculate() "next"

    loop until the probes are reached
    Node -> Node : notify()
    Node -> Node ++ : calculate() "next"

    Node -> ProbeNode ++ : calculate()
    ProbeNode -> ProbeNode : notify()

    ProbeNode -> ProbeObserver ++ : probeChanged()
    ProbeNode - -
    ProbeObserver - -
    Node - -

    end
end

Node - -
InputNode - -
CircuitBuilder - -
Circuit - -

@enduml

PlantUML version 1.2018.12(Sun Oct 21 12:15:15 CEST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b520.43
Operating System: Linux
OS Version: 5.4.43-1-MANJARO
Default Encoding: UTF-8
Language: en
Country: US
-->
    </g>
</svg>