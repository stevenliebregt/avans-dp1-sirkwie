@startuml

' Nodes
abstract class Node {
    +value: Observable<boolean>
    +{abstract} calculate(): boolean
}
Node --> "0..*" Node : previous >
Node --> "0..*" Node : next >

class InputNode {
}
Node <|-- InputNode

class ProbeNode {
}
Node <|-- ProbeNode

' Ports
abstract class Port {
}
Node <|-- Port

class AndPort {
}
Port <|-- AndPort

class NAndPort {
}
AndPort <|-- NAndPort

class OrPort {
}
Port <|-- OrPort

class NorPort {
}
OrPort <|-- NorPort

class NotPort {
}
Port <|-- NotPort

class XorPort {
}
Port <|-- XorPort

' Circuit
class Circuit {
    +simulate()
}
InputNode "1..*" <--* Circuit : inputs <
ProbeNode "1..*" <--* Circuit : probes <
Node "1..*" <--* Circuit : nodes <

' CircuitBuilder
class CircuitBuilder {
    +new()
}
@enduml
